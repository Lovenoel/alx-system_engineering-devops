#!/usr/bin/env bash
# prints domains and subdomains

# Function to display information about a subdomain
print_domain_subdomain () {
    local domain="$1"
    local subdomain="$2"

    # Perform DNS query for the subdomain
    local dns_output=$(dig +short "$subdomain.$domain")

    # Extract relevant information using awk
    local record_type=$(echo "$dns_output" | awk '{print $2}')
    local destination=$(echo "$dns_output" | awk '{print $1}')

    # Output the information
    echo "The subdomain $subdomain is a $record_type record and points to $destination"
}

# Main script
main() {
    local domain="$1"

    # Display information for default subdomains
    print_domain_subdomain "$domain" "www"
    print_domain_subdomain "$domain" "lb-01"
    print_domain_subdomain "$domain" "web-01"
    print_domain_subdomain "$domain" "web-02"
}

# Check for arguments
if [ "$#" -ne 1 ]; then
    echo "Usage: $0 <domain>"
    exit 1
fi

main "$@"
